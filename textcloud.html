<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>双碳与空气质量词云图</title>
    <!-- 引入ECharts核心库 -->
    <script src="js/echarts.min.js"></script>
    <!-- 引入词云扩展库 -->
    <script src="js/echarts-wordcloud.min.js"></script>
    <!-- 引入SVG路径解析库 -->
    <script src="js/path2d-polyfill.min.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div class="navbar">
        <h1>关键词云图</h1>
        <button class="back-btn" onclick="window.location.href='index.html'">返回工具集</button>
    </div>
    <div class="container not-full-height">        
    <!-- 配置区域 -->
    <div class="config-panel">
        <!-- 颜色配置 -->
        <div class="config-item">
            <label for="colorScheme">配色方案：</label>
            <select id="colorScheme">
                <option value="random">随机颜色（默认）</option>
                <option value="blue">蓝色系</option>
                <option value="green">绿色系（双碳主题）</option>
                <option value="orange">橙色系</option>
                <option value="purple">紫色系</option>
                <option value="custom-single">自定义单一颜色</option>
                <option value="custom-multi">自定义五色配色</option>
            </select>
        </div>
        <!-- 单一自定义颜色 -->
        <div class="config-item" id="customSingleColorGroup" style="display: none;">
            <label for="customSingleColor">自定义颜色：</label>
            <input type="color" id="customSingleColor" value="#409EFF">
        </div>
        <!-- 五色自定义区域 -->
        <div class="custom-multi-color-group" id="customMultiColorGroup">
            <label>自定义五色：</label>
            <div class="color-item">
                <span>颜色1：</span>
                <input type="color" id="customColor1" value="#2E8B57">
            </div>
            <div class="color-item">
                <span>颜色2：</span>
                <input type="color" id="customColor2" value="#409EFF">
            </div>
            <div class="color-item">
                <span>颜色3：</span>
                <input type="color" id="customColor3" value="#FF7F50">
            </div>
            <div class="color-item">
                <span>颜色4：</span>
                <input type="color" id="customColor4" value="#9370DB">
            </div>
            <div class="color-item">
                <span>颜色5：</span>
                <input type="color" id="customColor5" value="#FFD700">
            </div>
        </div>

        <!-- 形状配置 -->
        <div class="config-item">
            <label for="shapeScheme">词云形状：</label>
            <select id="shapeScheme">
                <option value="circle">圆形（默认）</option>
                <option value="cardioid">心形</option>
                <option value="diamond">菱形</option>
                <option value="triangle-forward">正三角形</option>
                <option value="star">五角星</option>
                <option value="custom-svg">自定义SVG轮廓</option>
            </select>
        </div>
        <!-- SVG上传区域 -->
        <div class="svg-upload-group" id="svgUploadGroup">
            <div class="svg-upload-item">
                <label for="svgFile">上传SVG文件：</label>
                <input type="file" id="svgFile" accept=".svg" />
                <div id="svgPreview">未上传</div>
                <span class="tip-text">提示：建议使用单色、无渐变的简单SVG图形</span>
            </div>
        </div>

        <div class="config-item">
            <button id="applyConfig">应用配置</button>
        </div>
        <div class="config-item">
            <button id="downloadSvg" class="download-btn">下载SVG格式词云</button>
        </div>
        <div class="config-item">
            <button id="downloadCSV" class="download-btn">下载当前数据 (CSV)</button>
        </div>
        <div class="config-item">
            <button id="toggleEditPanel" class="toggle-btn">收起编辑面板</button>
        </div>
        <!-- CSV文件选择 -->
        <div class="config-item">
            <label for="csvFile">选择CSV文件：</label>
            <input type="file" id="csvFile" accept=".csv" />
        </div>
    </div>

    <!-- 主内容区域，分为词云和编辑面板 -->
    <div class="main-container">
        <!-- 左侧词云区域 -->
        <div class="wordcloud-container" id="wordcloud"></div>
        
        <!-- 右侧关键词编辑面板 -->
        <div class="edit-panel">
            <h3><span class="panel-title">关键词编辑</span></h3>
            <div class="edit-controls">
                <button id="addKeyword">添加关键词</button>
                <button id="deleteSelected">删除选中</button>
                <button id="refreshWordCloud">刷新词云</button>
            </div>
            <div class="keyword-table-container">
                <table id="keywordTable">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="selectAll"></th>
                            <th>关键词</th>
                            <th>数值</th>
                        </tr>
                    </thead>
                    <tbody id="keywordTableBody">
                        <!-- 动态生成的关键词行 -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>  
    <script src="./js/textcloud.js"></script>
</body>
</html>
