<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV柱状图展示</title>
    <script src="./js/echarts.min.js"></script>
    <script src="./js/html2canvas.js"></script>
    <script src="./js/gif.min.js"></script>
    <script src="./js/jszip.min.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div class="navbar">
        <h1>动画柱状图</h1>
        <button class="back-btn" onclick="window.location.href='index.html'">返回工具集</button>
    </div>
    <div class="animatebar-container">
        <div class="setting-area">
            <!-- 第一行：选择CSV文件按钮 -->
            <div class="setting-row">
                <label for="csvFile" class="btn">选择CSV文件</label>
                <input type="file" id="csvFile" class="file-input" accept=".csv">
                <span id="fileName" class="file-name">当前文件：data.csv</span>
                <button id="toggleSettingsBtn" class="btn btn-small">收起设置</button>
            </div>
            
            <!-- 可展开收起的设置区域 -->
            <div id="advancedSettings" class="advanced-settings">
                <!-- 第二行：设置图表标题、图表类型 -->
                <div class="setting-row">
                    <!-- 图表标题设置 -->
                    <div class="title-setting">
                        <label for="chartTitle">图表标题：</label>
                        <input type="text" id="chartTitle" class="title-input" placeholder="输入图表标题">
                        <label class="title-checkbox">
                                <input type="checkbox" id="showTitle">
                                显示标题
                            </label>
                        <button id="applyTitleBtn" class="btn btn-small">应用</button>
                    </div>
                    
                    <!-- 图表类型选择 -->
                    <div class="chart-type-selector">
                        <label for="chartType">图表类型：</label>
                        <select id="chartType" class="chart-type-select">
                            <option value="bar">柱状图</option>
                            <option value="line">折线图</option>
                            <option value="stackedBar">堆积柱状图</option>
                        </select>
                    </div>
                </div>
                
                <!-- 新增行：字号设置 -->
                <div class="setting-row">
                    <!-- X轴字号设置 -->
                    <div class="font-size-selector">
                        <label for="xAxisFontSize">X轴字号：</label>
                        <select id="xAxisFontSize" class="font-size-select">
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12" selected>12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                        </select>
                    </div>
                    
                    <!-- X轴文字角度设置 -->
                    <div class="font-size-selector">
                        <label for="xAxisRotate">X轴文字角度：</label>
                        <select id="xAxisRotate" class="font-size-select">
                            <option value="90">90°</option>
                            <option value="60">60°</option>
                            <option value="45" selected>45°</option>
                            <option value="30">30°</option>
                            <option value="0">0°</option>
                            <option value="-30">-30°</option>
                            <option value="-45">-45°</option>
                            <option value="-60">-60°</option>
                            <option value="-90">-90°</option>
                        </select>
                    </div>
                    
                    <!-- Y轴字号设置 -->
                    <div class="font-size-selector">
                        <label for="yAxisFontSize">Y轴字号：</label>
                        <select id="yAxisFontSize" class="font-size-select">
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12" selected>12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                        </select>
                    </div>
                    
                    <!-- 图表值字号设置 -->
                    <div class="font-size-selector">
                        <label for="valueFontSize">数值字号：</label>
                        <select id="valueFontSize" class="font-size-select">
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12" selected>12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                        </select>
                    </div>
                    
                    <button id="applyFontBtn" class="btn btn-small">应用设置</button>
                </div>
                
                <!-- 新增行：水印设置 -->
                <div class="setting-row">
                    <!-- 水印宽度设置 -->
                    <div class="watermark-selector">
                        <label for="watermarkWidth">水印宽度：</label>
                        <input type="number" id="watermarkWidth" class="watermark-input" value="100" min="50" max="500">
                        <label class="watermark-checkbox">
                            <input type="checkbox" id="showWatermark" checked>
                            显示水印
                        </label>
                        <button id="applyWatermarkBtn" class="btn btn-small">应用水印设置</button>
                    </div>
                </div>
                
                <!-- 新增行：图例设置 -->
                <div class="setting-row">
                    <!-- 图例显示设置 -->
                    <div class="legend-selector">
                        <label class="legend-checkbox">
                            <input type="checkbox" id="showLegend" checked>
                            显示图例
                        </label>
                        <button id="applyLegendBtn" class="btn btn-small">应用图例设置</button>
                    </div>
                </div>
                
                <!-- 新增行：颜色配置设置 -->
                <div class="setting-row">
                    <!-- 颜色配置 -->
                    <div class="color-settings">
                        <label>图表颜色：</label>
                        <div id="colorInputs" class="color-inputs"></div>
                        <button id="addColorBtn" class="btn btn-small">添加颜色</button>
                        <button id="removeColorBtn" class="btn btn-small">删除颜色</button>
                        <button id="applyColorBtn" class="btn btn-small">应用颜色</button>
                    </div>
                </div>
                
                <!-- 新增行：GIF动画与帧控制设置 -->
                <div class="setting-row">
                    <!-- GIF设置 -->
                    <div class="gif-settings">
                        <label for="recordInterval">录制间隔(ms)：</label>
                        <input type="number" id="recordInterval" class="gif-input" value="600" min="100" max="2000">
                        
                        <label for="frameDelay">普通帧延迟(ms)：</label>
                        <input type="number" id="frameDelay" class="gif-input" value="500" min="100" max="2000">
                        
                        <label for="lastFrameDelay">最后一帧延迟(ms)：</label>
                        <input type="number" id="lastFrameDelay" class="gif-input" value="3360" min="1000" max="10000">
                        
                        <label for="bgColor">背景颜色：</label>
                        <input type="color" id="bgColor" class="color-input" value="#ffffff">
                        
                        <button id="applyGifBtn" class="btn btn-small">应用GIF设置</button>
                    </div>
                </div>
                
                <!-- 新增行：柱子宽度设置 -->
                <div class="setting-row">
                    <!-- 柱子宽度设置 -->
                    <div class="bar-width-settings">
                        <label for="barWidth">柱子宽度：</label>
                        <select id="barWidth" class="bar-width-select">
                            <option value="auto" selected>自动</option>
                            <option value="10">10px</option>
                            <option value="20">20px</option>
                            <option value="30">30px</option>
                        </select>
                        <button id="applyBarWidthBtn" class="btn btn-small">应用柱子宽度</button>
                    </div>
                </div>
                
                <!-- 新增行：图表尺寸设置 -->
                <div class="setting-row">
                    <!-- 图表宽度设置 -->
                    <div class="chart-size-settings">
                        <label for="chartWidth">图表宽度：</label>
                        <input type="number" id="chartWidth" class="chart-size-input" value="1200" min="400" max="2000">
                        <label for="chartHeight">图表高度：</label>
                        <input type="number" id="chartHeight" class="chart-size-input" value="400" min="400" max="1500">
                        <button id="applySizeBtn" class="btn btn-small">应用尺寸</button>
                    </div>
                </div>
            </div>
            
            <!-- 第三行：播放动画、暂停动画、重新播放、导出GIF按钮 -->
            <div class="setting-row">
                <button id="replayBtn" class="btn">↻</button><!--重新播放-->
                <button id="playBtn" class="btn">▸</button><!--播放动画-->
                <button id="pauseBtn" class="btn">■</button><!--暂停动画-->
                <button id="exportBtn" class="btn">导出GIF</button>
                <button id="exportPngBtn" class="btn">导出PNG序列</button>
            </div>
        </div>
        <div id="chart"></div>
    </div>

    <script src="./js/animatebar.js"></script>
</body>
</html>